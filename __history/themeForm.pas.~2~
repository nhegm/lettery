unit themeForm;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,
  FMX.Controls.Presentation, FMX.StdCtrls, FMX.ExtCtrls, FMX.ListView.Types,
  FMX.ListView.Appearances, FMX.ListView.Adapters.Base, FMX.ListBox,
  FMX.Layouts, FMX.ListView, FMX.Styles.Objects, FMX.Objects;

type
  TsetForm = class(TForm)
    Label1: TLabel;
    default: TRoundRect;
    Text1: TText;
    day: TRoundRect;
    Text2: TText;
    violet: TRoundRect;
    Text3: TText;
    returnButton: TButton;
    barbie: TRoundRect;
    Text4: TText;
    procedure FormShow(Sender: TObject);
    procedure FormCreate(Sender: TObject);
    procedure defaultClick(Sender: TObject);
    procedure dayClick(Sender: TObject);
    procedure violetClick(Sender: TObject);
    procedure barbieClick(Sender: TObject);
    procedure returnButtonClick(Sender: TObject);
    procedure Text1Click(Sender: TObject);
    procedure Text2Click(Sender: TObject);
    procedure Text3Click(Sender: TObject);
    procedure Text4Click(Sender: TObject);

  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  setForm: TsetForm;

implementation

uses HeaderFooterTemplate;
{$R *.fmx}
{$R *.LgXhdpiTb.fmx ANDROID}

var i,j: integer;
    s: string;
    padY: single;
    themeButton: array [1..cinco_cartas.colorsMax] of TRoundRect;
    buttonText: array [1..cinco_cartas.colorsMax] of TText;

procedure TsetForm.FormCreate(Sender: TObject);
begin

  {$IF Defined(ANDROID)}
    setForm.width := 150;
    setForm.height := 220;
    setForm.Visible := false;
  {$ELSEIF Defined(MSWINDOWS)}
    setForm.StyleLookup := DefaultFormStyleLookup;
    width := 300;
    height := 500;
  {$ENDIF}

  themeButton[1] := default;
  themeButton[2] := day;
  themeButton[3] := violet;
  themeButton[4] := barbie;
  buttonText[1] := Text1;
  buttonText[2] := Text2;
  buttonText[3] := Text3;
  buttonText[4] := Text4;

  Label1.Position.X := (setForm.Width - Label1.Width)/2;
  Label1.Position.Y := 8;
  Label1.Height := 24;
  padY := 8;
  themeButton[1].Position.Y := Label1.Position.Y + Label1.Height + padY;
  for I := 2 to cinco_cartas.colorsMax do
    themeButton[i].Position.Y := themeButton[i-1].Position.Y + themeButton[i-1].Height + padY;
  for I := 1 to cinco_cartas.colorsMax do
    themeButton[i].Position.X := (setForm.Width - themeButton[i].Width)/2;
  returnButton.Position.Y := themeButton[colorsMax].Position.Y + themeButton[colorsMax].Height + padY;
  returnButton.Position.X := (setForm.Width - returnButton.Width)/2;

  for I := 1 to cinco_cartas.colorsMax do begin
    themeButton[i].Fill.Color := cinco_cartas.bckgrndColor[i];
    buttonText[i].TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[i];
  end;

  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
  setForm.Label1.Text := 'Цветовая схема';
  returnButton.TintColor := cinco_cartas.boardNKeyColorsDef[ColorsSetNumber];
  returnButton.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];

end;

procedure TsetForm.returnButtonClick(Sender: TObject);
begin
{$IF Defined(ANDROID)}
  setForm.Close;
{$ELSEIF Defined(MSWINDOWS)}
  setForm.Destroy;
{$ENDIF}
end;

procedure TsetForm.FormShow(Sender: TObject);
begin

  setForm.width := 150;
  setForm.height := 220;
  {$IF Defined(ANDROID)}
    Left := round((screen.Width - setForm.width)/2);
    Top := 50;
  {$ELSEIF Defined(MSWINDOWS)}
    setForm.StyleLookup := DefaultFormStyleLookup;
    width := 300;
    height := 500;
    Left := round(setForm.width/2);
    Top := 100;
  {$ENDIF}

  setForm.Label1.Text := 'Цветовая схема';
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];

  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];

  setForm.Active := true;
  Form2.Active := false;

end;

procedure TsetForm.defaultClick(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 1;
  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

procedure TsetForm.dayClick(Sender: TObject);
begin

  cinco_cartas.ColorsSetNumber := 2;
//  Form2.Active := true;

  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];

end;

procedure TsetForm.violetClick(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 3;
//  Form2.Active := true;

  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

procedure TsetForm.barbieClick(Sender: TObject);
begin

  cinco_cartas.ColorsSetNumber := 4;
//  Form2.Active := true;

  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];

end;

procedure TsetForm.Text1Click(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 1;
  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

procedure TsetForm.Text2Click(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 2;
  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

procedure TsetForm.Text3Click(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 3;
  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

procedure TsetForm.Text4Click(Sender: TObject);
begin
  cinco_cartas.ColorsSetNumber := 4;
  Fill.Color := cinco_cartas.bckgrndColor[ColorsSetNumber];
  setForm.Label1.TextSettings.FontColor := cinco_cartas.boardNKeyTextColorsDef[ColorsSetNumber];
end;

end.
